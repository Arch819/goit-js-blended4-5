{"mappings":"YAAA,IA0BAA,EAAe,CACbC,KA3BW,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAuBzCC,KAnBS,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAe3CK,OAXa,SAAAd,GACb,IACEK,aAAaU,WAAWf,E,CACxB,MAAOO,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,ICPvCO,EACG,gBADHA,EAEM,SAIRC,EAAW,GACTC,EAAOC,SAASC,cAAc,eAC9BC,EAAWF,SAASC,cAAc,cAClCE,EAASH,SAASI,iBAAiB,gBAGzCL,EAAKM,iBAAiB,SAuBtB,SAAoBC,GAClB,IAAwBC,EAAAD,EAAME,OAAtBC,EAAgBF,EAAhBE,KAAM3B,EAAUyB,EAAVzB,MAEdgB,EAASW,GAAQ3B,C,IAzBnBiB,EAAKM,iBAAiB,UAGtB,SAAqBK,GACnBA,EAAIC,iBACJ,IAAQC,EAAoBd,EAApBc,MAAOC,EAAaf,EAAbe,SACf,IAAKD,IAAUC,EAEG,YADhBC,MAAM,sBAGR,GAAIF,IAAUf,GAAmBgB,IAAahB,EAE5C,YADAiB,MAAM,uBAKRnC,EAAQC,KAzBQ,aAyBQkB,GACxBI,EAASa,YAAc,SACvBZ,EAAOa,SAAQ,SAAAC,G,OAASA,EAAMC,aAAa,YAAY,E,IACvDnB,EAAKoB,O","sources":["src/js/storage.js","src/js/login.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nexport default {\n  save,\n    load,\n  remove,\n};","import storage from \"./storage\";\n// ЗАДАЧА 1\n\n// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми при сабмите\n// у локальне сховище і змінюй кнопку login на logout і роби поля введення\n// Недоступними зміни.\n\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\n\nconst USER_DATA = {\n  email: \"user@mail.com\",\n  password: \"secret\",\n};\nconst LOCAL_KEY = 'login-data'\n\nlet userData = {};\nconst form = document.querySelector('.login-form');\nconst loginBtn = document.querySelector('.login-btn');\nconst inputs = document.querySelectorAll('.login-input');\n\n\nform.addEventListener('input', onSaveData);\nform.addEventListener('submit', clickOnData);\n\n\nfunction clickOnData(evt) {\n  evt.preventDefault();\n  const { email, password } = userData;\n  if (!email || !password) {\n    alert('Заповніть усі поля')\n    return;\n  }\n  if (email !== USER_DATA.email || password !== USER_DATA.password) {\n    alert('Не співпадають дані') \n    return;\n\n  } \n  \n  storage.save(LOCAL_KEY, userData);\n  loginBtn.textContent = 'Logout';\n  inputs.forEach(input => input.setAttribute('readonly', true));\n  form.reset();\n}\n\nfunction onSaveData(event) {\n  const { name, value } = event.target;\n\n  userData[name] = value;\n\n}\n\n\n\n"],"names":["$e40a24b7fc93604f$export$2e2bcd8739ae039","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remove","removeItem","$2e9821e67a93167d$var$USER_DATA","$2e9821e67a93167d$var$userData","$2e9821e67a93167d$var$form","document","querySelector","$2e9821e67a93167d$var$loginBtn","$2e9821e67a93167d$var$inputs","querySelectorAll","addEventListener","event","_target","target","name","evt","preventDefault","email","password","alert","textContent","forEach","input","setAttribute","reset"],"version":3,"file":"index.e264ba4e.js.map"}